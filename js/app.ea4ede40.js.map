{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?b6cf","webpack:///./src/components/Editor.vue?67fe","webpack:///./src/components/Strip.vue?511a","webpack:///./src/App.vue?0b94","webpack:///./src/components/Editor.vue?6d1d","webpack:///./src/model/light/LightModule.ts","webpack:///./src/model/light/modules/Dimmer.ts","webpack:///./src/store/utils.ts","webpack:///./src/store/modules/Engine.ts","webpack:///./src/store/modules/LedArray.ts","webpack:///./src/store/modules/UI.ts","webpack:///./src/store/index.ts","webpack:///./src/model/light/Engine.ts","webpack:///./src/components/Editor.vue","webpack:///./src/components/Editor.vue?ff18","webpack:///./src/components/Strip.vue?4664","webpack:///./src/components/Strip.vue","webpack:///./src/components/Strip.vue?73a1","webpack:///./src/components/ModuleEditor.vue?dd01","webpack:///./src/components/ModuleEditor.vue","webpack:///./src/components/ModuleEditor.vue?c193","webpack:///./src/components/BLEConnector.vue?8825","webpack:///./src/components/BLEConnector.vue","webpack:///./src/components/BLEConnector.vue?c10b","webpack:///./src/App.vue","webpack:///./src/App.vue?8ecf","webpack:///./src/main.ts","webpack:///./src/components/BLEConnector.vue?a99d"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","render","_ctx","_cache","$props","$setup","$data","$options","_component_Editor","_component_Strip","_component_ModuleEditor","_component_BLEConnector","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","onClick","playPause","currentTime","style","progressWidth","flags","flag","duration","time","modulesGroupedByLedGroup","modGroup","groupKey","$event","updateSelectedGroup","mod","id","startTime","selectModule","this","Math","random","toString","moduleType","constructor","leds","sort","normalTime","increment","res","led","g","b","withSaveObjLocal","mutation","oldMutation","newMutation","state","payload","stringObj","JSON","stringify","localStorage","setItem","loadObjFromLocal","ifNotPresent","local","parse","getItem","engineModule","map","modObj","moduleFromObjectAntType","currentState","Array","fill","activeModules","updateFrequency","mutations","setDuration","setFrequency","frequency","setCurrentTime","setModules","setActiveModules","setCurrentState","ledArrayState","addLightModule","removeLightModule","findIndex","SET_DURATION","SET_CURRENT_TIME","SET_FREQUENCY","SET_MODULES","SET_ACTIVE_MODULES","SET_CURRENT_STATE","ADD_LIGHT_MODULE","REMOVE_LIGHT_MODULE","obj","Error","ledArrayModule","updateLedArrayState","ledSubArrayState","uiModule","selectedModule","selectedModuleGroup","changeSelectedModule","changeSelectedModuleGroup","moduleKey","CHANGE_SELECTED_MODULE","CHANGE_SELECTED_MODULE_GROUP","ledArray","engine","ui","BLACK_STATE","store","engineState","timeoutIds","millisDuration","commit","millisFrequency","sId","setTimeout","eId","indexOf","blackSubArr","reduce","a","onUpdateCallback","flagLast","tickId","setInterval","ledStateOnUpdate","clearInterval","clearTimeout","audio","mounted","$store","Audio","src","ontimeupdate","generateTime","onloadedmetadata","updateDuration","addEventListener","e","code","addFlag","methods","width","paused","play","setup","start","pause","stop","event","cTime","round","moduleGroupKey","computed","engineModules","goupedModules","rv","__exports__","strip","ledState","ledN","for","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","type","ref","number","onChange","target","removeModule","newModule","fromStringToArray","addModule","str","watch","newM","oldM","newG","oldG","connectToDevice","connected","characteristic","options","acceptAllDevices","optionalServices","console","log","navigator","bluetooth","requestDevice","device","gatt","connect","getPrimaryService","service","getCharacteristic","writeValue","Uint8Array","flatLedState","catch","error","arr","values","flatMap","el","flat","newS","oldS","components","Editor","Strip","ModuleEditor","BLEConnector","use","mount"],"mappings":"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","file":"js/app.ea4ede40.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./App.vue?vue&type=style&index=0&id=6725a348&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Editor.vue?vue&type=style&index=0&id=868d3726&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Strip.vue?vue&type=style&index=0&id=75bcc718&lang=scss&scoped=true\"","import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Editor = _resolveComponent(\"Editor\")!\n  const _component_Strip = _resolveComponent(\"Strip\")!\n  const _component_ModuleEditor = _resolveComponent(\"ModuleEditor\")!\n  const _component_BLEConnector = _resolveComponent(\"BLEConnector\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", null, [\n    _createVNode(_component_Editor),\n    _createVNode(_component_Strip),\n    _createVNode(_component_ModuleEditor),\n    _createVNode(_component_BLEConnector)\n  ]))\n}","import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, normalizeStyle as _normalizeStyle, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-868d3726\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"editor\" }\nconst _hoisted_2 = { class: \"time\" }\nconst _hoisted_3 = { class: \"timeline\" }\nconst _hoisted_4 = { class: \"light_modules\" }\nconst _hoisted_5 = [\"onClick\"]\nconst _hoisted_6 = [\"onClick\"]\nconst _hoisted_7 = { class: \"progress_bar\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"button\", {\n      onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.playPause && _ctx.playPause(...args)))\n    }, \"Play\"),\n    _createElementVNode(\"div\", _hoisted_2, _toDisplayString(_ctx.currentTime), 1),\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createElementVNode(\"div\", {\n        class: \"progress_line\",\n        style: _normalizeStyle(`left: ${_ctx.progressWidth}%`)\n      }, null, 4),\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.flags, (flag) => {\n        return (_openBlock(), _createElementBlock(\"div\", {\n          class: \"flag_line\",\n          key: flag,\n          style: _normalizeStyle(`left: ${(100 / _ctx.duration) * flag.time}%`)\n        }, _toDisplayString(flag.time), 5))\n      }), 128)),\n      _createElementVNode(\"div\", _hoisted_4, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.modulesGroupedByLedGroup, (modGroup, groupKey) => {\n          return (_openBlock(), _createElementBlock(\"div\", {\n            class: \"light_module_group\",\n            key: modGroup,\n            onClick: ($event: any) => (_ctx.updateSelectedGroup($event, groupKey))\n          }, [\n            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(modGroup, (mod) => {\n              return (_openBlock(), _createElementBlock(\"div\", {\n                class: \"light_module\",\n                key: mod.id,\n                style: _normalizeStyle(`left: ${(mod.startTime / _ctx.duration) * 100}%;width: ${\n              (mod.duration / _ctx.duration) * 100\n            }%`),\n                onClick: ($event: any) => (_ctx.selectModule($event, mod))\n              }, null, 12, _hoisted_6))\n            }), 128))\n          ], 8, _hoisted_5))\n        }), 128))\n      ]),\n      _createElementVNode(\"div\", _hoisted_7, [\n        _createElementVNode(\"div\", {\n          class: \"progress\",\n          style: _normalizeStyle(`width: ${_ctx.progressWidth}%`)\n        }, null, 4)\n      ])\n    ])\n  ]))\n}","import { LedArrayState } from \"./Engine\";\nimport { Dimmer } from \"./modules/Dimmer\";\n\nexport abstract class LightModule {\n    readonly id: string;\n    readonly moduleType: string;\n    abstract startTime: number;\n    abstract duration: number;\n    abstract leds: number[];\n    // updatedLeds: number[],\n    abstract ledStateOnUpdate(time: number): LedArrayState //time é relativo al modulo (TODO: meglio assoluto visto che quello relativo può calcolarlo?)\n    // onEnd?: () => {[n: number]: LedState} //time é relativo al modulo (TODO: meglio assoluto visto che quello relativo può calcolarlo?)\n\n    constructor(id?: string) {\n        this.id = id ? id : Math.random().toString(16).slice(2);\n        this.moduleType = this.constructor.name;\n    }\n\n    /* toJSON() {\n        return { ...this, moduleType: this.constructor.name };\n    } */\n}\n\nexport type LedState = {\n    r: number;\n    g: number;\n    b: number;\n}\n","import { LedArrayState } from \"../Engine\";\nimport { LightModule } from \"../LightModule\";\n\nexport class Dimmer extends LightModule {\n\n    duration: number;\n    startTime: number;\n    leds: number[];\n\n    constructor({ duration, startTime, leds, id }: { duration: number; startTime: number; leds: number[]; id?: string; }) {\n        super(id);\n        this.duration = duration;\n        this.startTime = startTime;\n        this.leds = leds.sort();\n    }\n\n    ledStateOnUpdate(time: number): LedArrayState {\n        const normalTime = (time / this.duration) * 100;\n        const increment = 2.55 * normalTime;\n        const res: LedArrayState = {};\n        for (const led of this.leds) {\n            res[led] = { r: 1 * increment, g: .5 * increment, b: 0 * increment } // TODO - Vedere come aumentare la luminosità (e gestire piú seriamente i colori in generale)\n        }\n        return res;\n    }\n\n    /* onEnd(): LedArrayState {\n        const res: LedArrayState = {};\n        for (const led of this.leds) {\n            res[led] = { r: 0, g: 0, b: 0 } \n        }\n        return res;\n    } */\n}","import { Mutation } from \"vuex\";\n\n//TODO - Da migliorare (property deve essere il nome della proprietà!!!!!)\nfunction withSaveObjLocal<T>(property: string, mutation: Mutation<T>): Mutation<T> {\n    const oldMutation = mutation;\n    const newMutation: Mutation<T> = (...[state, payload]) => {\n        oldMutation(state, payload);\n        const stringObj = JSON.stringify((state as any)[property]);//Not good (as any)\n        localStorage.setItem(property, stringObj);\n    }\n    return newMutation;\n}\nfunction withSaveStringLocal<T>(property: string, mutation: Mutation<T>): Mutation<T> {\n    const oldMutation = mutation;\n    const newMutation: Mutation<T> = (...[state, payload]) => {\n        oldMutation(state, payload);\n        localStorage.setItem(property, (state as any)[property]); //Not good (as any)\n    }\n    return newMutation;\n}\n\nfunction loadObjFromLocal<T>(key: string, ifNotPresent: T): T {\n    const local = JSON.parse(localStorage.getItem(key)!) as T;\n    return local ? local : ifNotPresent;\n\n}\nfunction loadStringFromLocal(key: string, ifNotPresent: string): string {\n    const local = localStorage.getItem(key);\n    return local ? local : ifNotPresent;\n}\n\nexport { withSaveObjLocal, withSaveStringLocal, loadObjFromLocal, loadStringFromLocal }","import { LedArrayState } from \"@/model/light/Engine\";\nimport { LightModule } from \"@/model/light/LightModule\";\nimport { Dimmer } from \"@/model/light/modules/Dimmer\";\nimport { Module } from \"vuex\";\nimport { RootState } from \"..\";\nimport { loadObjFromLocal, withSaveObjLocal } from \"../utils\";\n\nexport interface Engine {\n    duration: number,\n    updateFrequency: number,\n    currentTime: number,\n    modules: LightModule[],\n    activeModules: LightModule[],\n    currentState: LedArrayState\n}\n\nexport const engineModule: Module<Engine, RootState> = {\n    state: {\n        modules: loadObjFromLocal<LightModule[]>('modules', []).map(\n            function (modObj) {\n                const moduleType = modObj.moduleType;\n                return moduleFromObjectAntType(modObj.moduleType, modObj)\n            }),\n        currentState: { ...new Array(50).fill({ r: 0, g: 0, b: 0 }) },\n        duration: 120000,\n        activeModules: [],\n        currentTime: 0,\n        updateFrequency: 1000\n    },\n    mutations: {\n        setDuration(state, duration: number) {\n            state.duration = duration;\n        },\n        setFrequency(state, frequency: number) {\n            state.updateFrequency = frequency;\n        },\n        setCurrentTime(state, currentTime: number) {\n            state.currentTime = currentTime;\n        },\n        setModules: withSaveObjLocal<Engine>('modules', (state, modules: LightModule[]) => {\n            state.modules = [...modules];\n        }),\n        setActiveModules(state, modules: LightModule[]) {\n            state.activeModules = [...modules];\n        },\n        setCurrentState(state, ledArrayState: LedArrayState) {\n            state.currentState = { ...ledArrayState };\n        },\n        addLightModule: withSaveObjLocal<Engine>('modules', (state, module: LightModule) => {\n            state.modules.push(module);\n        }),\n        removeLightModule: withSaveObjLocal<Engine>('modules', (state, moduleId: string) => {\n            state.modules.splice(state.modules.findIndex(mod => mod.id === moduleId), 1);\n        }),\n    },\n}\n\nexport const\n    SET_DURATION = 'setDuration',\n    SET_CURRENT_TIME = 'setCurrentTime',\n    SET_FREQUENCY = 'setFrequency',\n    SET_MODULES = 'setModules',\n    SET_ACTIVE_MODULES = 'setActiveModules',\n    SET_CURRENT_STATE = 'setCurrentState',\n    ADD_LIGHT_MODULE = 'addLightModule',\n    REMOVE_LIGHT_MODULE = 'removeLightModule'\n\nfunction moduleFromObjectAntType(moduleType: string, obj: LightModule): LightModule {\n    switch (moduleType) {\n        case 'Dimmer':\n            return new Dimmer(obj);\n\n        default:\n            throw new Error(`Unknown moduleType ${moduleType}`);\n    }\n}","import { LedArrayState } from \"@/model/light/Engine\";\nimport { Module } from \"vuex\";\nimport { RootState } from \"..\";\n\nexport interface LedArray {\n    ledArrayState: LedArrayState;\n}\n\nexport const ledArrayModule: Module<LedArray, RootState> = {\n    state: {\n        ledArrayState: { ...new Array(60).fill({ r: 0, g: 0, b: 0 }) },\n    },\n    mutations: {\n        updateLedArrayState(state, ledSubArrayState: LedArrayState) {\n            state.ledArrayState = {...state.ledArrayState, ...ledSubArrayState};\n        },\n    },\n}\n\nexport const\n    UPDATE_LED_SUB_ARRAY_STATE = 'updateLedArrayState'","import { LightModule } from \"@/model/light/LightModule\";\nimport { Module } from \"vuex\";\nimport { RootState } from \"..\";\n\nexport interface UI {\n    selectedModule: LightModule | null,\n    selectedModuleGroup: string | null\n}\n\nexport const uiModule: Module<UI, RootState> = {\n    state: {\n        selectedModule: null,\n        selectedModuleGroup: null\n    },\n    mutations: {\n        changeSelectedModule(state, module: LightModule) {\n            state.selectedModule = module;\n        },\n        changeSelectedModuleGroup(state, moduleKey: string) {\n            state.selectedModuleGroup = moduleKey;\n        },\n    },\n}\n\nexport const\n    CHANGE_SELECTED_MODULE = 'changeSelectedModule',\n    CHANGE_SELECTED_MODULE_GROUP = 'changeSelectedModuleGroup'","import { InjectionKey } from 'vue';\nimport { createStore, Store } from 'vuex'\nimport { Engine, engineModule } from './modules/Engine';\nimport { LedArray, ledArrayModule } from './modules/LedArray'\nimport { UI, uiModule } from './modules/UI';\n\nexport interface RootState {\n  ledArray: LedArray,\n  engine: Engine,\n  ui: UI\n}\n\nexport const key: InjectionKey<Store<RootState>> = Symbol();\n\nexport const store = createStore<RootState>({\n  modules: {\n    ledArray: ledArrayModule,\n    engine: engineModule,\n    ui: uiModule\n  }\n})\n","import { key } from \"@/store\";\nimport { SET_DURATION, SET_FREQUENCY, SET_MODULES, SET_ACTIVE_MODULES, SET_CURRENT_STATE, SET_CURRENT_TIME, ADD_LIGHT_MODULE } from \"@/store/modules/Engine\";\nimport { useStore } from \"vuex\";\nimport { LedState, LightModule } from \"./LightModule\";\n\nconst BLACK_STATE = { ...new Array(50).fill({ r: 0, g: 0, b: 0 }) };\n\nexport class Engine {\n    private store = useStore(key);\n    private engineState = this.store.state.engine;\n\n    private tickId!: number;\n    private timeoutIds: number[] = [];\n\n    constructor(duration: number, updateFrequency = 1000) {\n        this.duration = duration;\n        this.updateFrequency = updateFrequency;\n    }\n\n    public get duration(): number {\n        return this.engineState.duration;\n    }\n    public set duration(millisDuration: number) {\n        this.store.commit(SET_DURATION, millisDuration);\n        // this._duration = millisDuration;\n    }\n\n    public get currentTime(): number {\n        return this.engineState.currentTime;\n    }\n    public set currentTime(currentTime: number) {\n        this.store.commit(SET_CURRENT_TIME, currentTime);\n        // this._currentTime = currentTime;\n    }\n\n    public get updateFrequency(): number {\n        return this.engineState.updateFrequency;\n    }\n    public set updateFrequency(millisFrequency: number) {\n        this.store.commit(SET_FREQUENCY, millisFrequency);\n        // this._updateFrequency = millisFrequency;\n    }\n\n    public get modules(): LightModule[] {\n        return this.engineState.modules;\n    }\n    public set modules(modules: LightModule[]) {\n        this.store.commit(SET_MODULES, modules);\n        // this._modules = modules;\n    }\n\n    public get activeModules(): LightModule[] {\n        return this.engineState.activeModules;\n    }\n    public set activeModules(modules: LightModule[]) {\n        this.store.commit(SET_ACTIVE_MODULES, modules);\n        // this._activeModules = modules;\n    }\n\n    public get currentState(): LedArrayState {\n        return this.engineState.currentState;\n    }\n    public set currentState(currentState: LedArrayState) {        \n        this.store.commit(SET_CURRENT_STATE, currentState);\n        // this._currentState = currentState;\n    }\n    \n    addModule(module: LightModule): void {\n        // this.modules.push(module);\n        this.store.commit(ADD_LIGHT_MODULE, module);\n    }\n\n    setup() : void {\n        for (const module of this.modules) {\n            const sId = setTimeout(() => {\n                this.activeModules.push(module);\n            }, module.startTime - this.currentTime);\n            const eId = setTimeout(() => {\n                this.activeModules.splice(this.activeModules.indexOf(module), 1);\n                /* if (module.onEnd) {\n                    this.currentState = { ...this.currentState, ...module.onEnd() };\n                } */\n                const blackSubArr = module.leds.reduce((a, b) => ({ ...a, [b]: { r: 0, g: 0, b: 0 } }), {});\n                this.currentState = { ...this.currentState, ...blackSubArr };\n            }, (module.startTime + module.duration) - this.currentTime);\n            this.timeoutIds.push(sId, eId);\n        }\n    }\n\n    start(onUpdateCallback?: (state: LedArrayState) => void): void {\n        const flagLast = false;\n\n        this.tickId = setInterval(() => {\n            this.currentTime += this.updateFrequency;\n            for (const module of this.activeModules) {\n                this.currentState = { /* ...BLACK_STATE, */ ...this.currentState, ...module.ledStateOnUpdate(this.currentTime - module.startTime) };\n            }\n            if (onUpdateCallback && this.activeModules.length > 0) {\n                onUpdateCallback(this.currentState);\n            }\n            if (flagLast) {\n                this.currentState = { ...BLACK_STATE };\n                if (onUpdateCallback) {\n                    onUpdateCallback(this.currentState);\n                }\n            }\n        }, this.updateFrequency);\n    }\n\n    stop(): void {\n        clearInterval(this.tickId);\n        for (const id of this.timeoutIds) {\n            clearTimeout(id);\n        }\n        this.currentTime = 0;\n    }\n}\n\nexport type LedArrayState = {\n    [n: number]: LedState;\n}","\nimport { Engine, LedArrayState } from \"@/model/light/Engine\";\nimport { LightModule } from \"@/model/light/LightModule\";\nimport {\n  CHANGE_SELECTED_MODULE,\n  CHANGE_SELECTED_MODULE_GROUP,\n} from \"@/store/modules/UI\";\nimport { Options, Vue } from \"vue-class-component\";\n\n@Options({\n  data() {\n    let engine;\n    const flags: { time: number }[] = [];\n    return {\n      audio: null,\n      duration: 120000,\n      currentTime: 0,\n      progressWidth: 0, // Spostare in computed\n      engine,\n      flags,\n    };\n  },\n  mounted() {\n    const store = this.$store;\n    this.audio = new Audio();\n    this.audio.src =\n      \"https://www.dl-sounds.com/wp-content/uploads/edd/2015/09/Carol-of-the-Bells-preview.mp3\";\n    this.audio.ontimeupdate = this.generateTime;\n    this.audio.onloadedmetadata = this.updateDuration;\n\n    this.engine = new Engine(20000, 100);\n\n    window.addEventListener(\"keypress\", (e: KeyboardEvent) => {\n      // console.log(e.code);\n      if (e.code === \"KeyM\") this.addFlag(); // TODO - Non c'é un cazzo di metodo per stare in ascolto direttamente solo sulla M?\n      if (e.code === \"Space\") this.playPause();\n    });\n  },\n  methods: {\n    generateTime() {\n      let width = (100 / this.audio.duration) * this.audio.currentTime;\n      this.progressWidth = width;\n      // this.circleLeft = width + \"%\";\n      /* let durmin = Math.floor(this.audio.duration / 60);\n      let dursec = Math.floor(this.audio.duration - durmin * 60);\n      let curmin = Math.floor(this.audio.currentTime / 60);\n      let cursec = Math.floor(this.audio.currentTime - curmin * 60); */\n      this.currentTime = this.audio.currentTime * 1000; //curmin + \":\" + cursec;\n    },\n    playPause() {\n      // const store = this.$store; // useStore(key);\n      if (this.audio.paused) {\n        this.audio.play();\n\n        this.engine.setup();\n        this.engine.start(/* (state: LedArrayState) => {} */);\n      } else {\n        this.audio.pause();\n        this.audio.currentTime = 0;\n        this.engine.stop();\n      }\n    },\n    updateDuration() {\n      this.duration = this.audio.duration * 1000;\n    },\n    selectModule(event: Event, module: LightModule) {\n      this.$store.commit(CHANGE_SELECTED_MODULE, module);\n    },\n    addFlag() {\n      const cTime = this.currentTime;\n      this.flags.push({ time: Math.round(cTime) });\n    },\n    updateSelectedGroup(event: Event, moduleGroupKey: string) {\n      this.$store.commit(CHANGE_SELECTED_MODULE_GROUP, moduleGroupKey);\n    },\n  },\n  computed: {\n    engineModules() {\n      return this.$store.state.engine.modules;\n    },\n    modulesGroupedByLedGroup() {\n      const modules: LightModule[] = this.engineModules;\n      const goupedModules: { [key: string]: LightModule[] } = modules.reduce(\n        function (rv, mod) {\n          (rv[`${mod.leds}`] = rv[`${mod.leds}`] || []).push(mod);\n          return rv;\n        },\n        {} as any\n      );\n      return goupedModules;\n    },\n  },\n})\nexport default class Editor extends Vue {}\n","import { render } from \"./Editor.vue?vue&type=template&id=868d3726&scoped=true&ts=true\"\nimport script from \"./Editor.vue?vue&type=script&lang=ts\"\nexport * from \"./Editor.vue?vue&type=script&lang=ts\"\n\nimport \"./Editor.vue?vue&type=style&index=0&id=868d3726&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/TomaccioD/Documents/other/christmas/fe-leds/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-868d3726\"]])\n\nexport default __exports__","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-75bcc718\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { id: \"strip\" }\nconst _hoisted_2 = { class: \"strip_list\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"ul\", _hoisted_2, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.strip.length - 1, (n) => {\n        return (_openBlock(), _createElementBlock(\"li\", { key: n }, [\n          _createElementVNode(\"div\", {\n            class: \"led\",\n            style: _normalizeStyle(`background-color: rgb(${_ctx.ledState(n).r}, ${_ctx.ledState(n).g}, ${\n            _ctx.ledState(n).b\n          })`)\n          }, null, 4)\n        ]))\n      }), 128))\n    ])\n  ]))\n}","\nimport { key } from \"@/store\";\nimport { Options, Vue } from \"vue-class-component\";\nimport { useStore } from \"vuex\";\n\n@Options({\n  data() {\n    const strip = new Array(50).fill({ r: 0, g: 0, b: 0 });\n    return {\n      strip,\n    };\n  },\n  computed: {\n    ledArrayState() {\n      return useStore(key).state.engine.currentState;\n    },\n  },\n  methods: {\n    ledState(ledN: number) {\n      return this.ledArrayState[`${ledN}`];\n    },\n  },\n})\nexport default class Strip extends Vue {}\n","import { render } from \"./Strip.vue?vue&type=template&id=75bcc718&scoped=true&ts=true\"\nimport script from \"./Strip.vue?vue&type=script&lang=ts\"\nexport * from \"./Strip.vue?vue&type=script&lang=ts\"\n\nimport \"./Strip.vue?vue&type=style&index=0&id=75bcc718&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/TomaccioD/Documents/other/christmas/fe-leds/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-75bcc718\"]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, Fragment as _Fragment } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 0,\n  id: \"module_editor\"\n}\nconst _hoisted_2 = /*#__PURE__*/_createTextVNode(\" Modifica modulo: \")\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"label\", { for: \"start\" }, \" Partenza \", -1)\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"label\", { for: \"duration\" }, \" Durata \", -1)\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"label\", { for: \"leds\" }, \" Leds \", -1)\nconst _hoisted_6 = [\"value\"]\nconst _hoisted_7 = {\n  key: 1,\n  id: \"module_editor\"\n}\nconst _hoisted_8 = /*#__PURE__*/_createTextVNode(\" Aggiungi modulo: \")\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"label\", { for: \"start\" }, \" Partenza \", -1)\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"label\", { for: \"duration\" }, \" Durata \", -1)\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"label\", { for: \"leds\" }, \" Leds \", -1)\nconst _hoisted_12 = [\"value\"]\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(_Fragment, null, [\n    (_ctx.selectedModule)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n          _hoisted_2,\n          _hoisted_3,\n          _withDirectives(_createElementVNode(\"input\", {\n            type: \"text\",\n            ref: \"start\",\n            \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.selectedModule.startTime) = $event))\n          }, null, 512), [\n            [\n              _vModelText,\n              _ctx.selectedModule.startTime,\n              void 0,\n              { number: true }\n            ]\n          ]),\n          _hoisted_4,\n          _withDirectives(_createElementVNode(\"input\", {\n            type: \"text\",\n            ref: \"duration\",\n            \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.selectedModule.duration) = $event))\n          }, null, 512), [\n            [\n              _vModelText,\n              _ctx.selectedModule.duration,\n              void 0,\n              { number: true }\n            ]\n          ]),\n          _hoisted_5,\n          _createElementVNode(\"input\", {\n            type: \"text\",\n            ref: \"leds\",\n            value: _ctx.selectedModule.leds,\n            onChange: _cache[2] || (_cache[2] = ($event: any) => (_ctx.selectedModule.leds = JSON.parse(`[${$event.target.value}]`)))\n          }, null, 40, _hoisted_6),\n          _createElementVNode(\"button\", {\n            onClick: _cache[3] || (_cache[3] = \n//@ts-ignore\n(...args) => (_ctx.removeModule && _ctx.removeModule(...args)))\n          }, \"Rimuovi\")\n        ]))\n      : _createCommentVNode(\"\", true),\n    (_ctx.selectedModuleGroup)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [\n          _hoisted_8,\n          _hoisted_9,\n          _withDirectives(_createElementVNode(\"input\", {\n            type: \"text\",\n            ref: \"start\",\n            \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((_ctx.newModule.startTime) = $event))\n          }, null, 512), [\n            [\n              _vModelText,\n              _ctx.newModule.startTime,\n              void 0,\n              { number: true }\n            ]\n          ]),\n          _hoisted_10,\n          _withDirectives(_createElementVNode(\"input\", {\n            type: \"text\",\n            ref: \"duration\",\n            \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((_ctx.newModule.duration) = $event))\n          }, null, 512), [\n            [\n              _vModelText,\n              _ctx.newModule.duration,\n              void 0,\n              { number: true }\n            ]\n          ]),\n          _hoisted_11,\n          _createElementVNode(\"input\", {\n            type: \"text\",\n            ref: \"leds\",\n            value: _ctx.newModule.leds,\n            onChange: _cache[6] || (_cache[6] = ($event: any) => (_ctx.newModule.leds = this.fromStringToArray($event.target.value)))\n          }, null, 40, _hoisted_12),\n          _createElementVNode(\"button\", {\n            onClick: _cache[7] || (_cache[7] = \n//@ts-ignore\n(...args) => (_ctx.addModule && _ctx.addModule(...args)))\n          }, \"Aggiungi\")\n        ]))\n      : _createCommentVNode(\"\", true)\n  ], 64))\n}","\nimport { Dimmer } from \"@/model/light/modules/Dimmer\";\nimport { key } from \"@/store\";\nimport { ADD_LIGHT_MODULE, REMOVE_LIGHT_MODULE } from \"@/store/modules/Engine\";\nimport { Options, Vue } from \"vue-class-component\";\nimport { useStore } from \"vuex\";\n\n@Options({\n  data() {\n    return {\n      selectedModule: null,\n      selectedModuleGroup: null,\n      newModule: new Dimmer({ duration: 0, startTime: 0, leds: [] }),\n    };\n  },\n  methods: {\n    addModule() {\n      this.$store.commit(ADD_LIGHT_MODULE, this.newModule);\n      this.newModule = new Dimmer({\n        duration: 0,\n        startTime: 0,\n        leds: this.selectedModuleGroup ? this.fromStringToArray(this.selectedModuleGroup) : [],\n      });\n    },\n    removeModule() {\n      this.$store.commit(REMOVE_LIGHT_MODULE, this.selectedModule.id);\n    },\n    fromStringToArray(str: string) {\n      return JSON.parse(`[${str}]`);\n    }\n  },\n  watch: {\n    [\"$store.state.ui.selectedModule\"](newM, oldM) {\n      this.selectedModule = newM;\n    },\n    [\"$store.state.ui.selectedModuleGroup\"](newG, oldG) {\n      this.newModule.leds = this.fromStringToArray(newG);\n      this.selectedModuleGroup = newG;\n    },\n  },\n})\nexport default class ModuleEditor extends Vue {}\n","import { render } from \"./ModuleEditor.vue?vue&type=template&id=a0e37d5c&ts=true\"\nimport script from \"./ModuleEditor.vue?vue&type=script&lang=ts\"\nexport * from \"./ModuleEditor.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/TomaccioD/Documents/other/christmas/fe-leds/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-20305370\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { id: \"ble_connector\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"connection_info\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"button\", {\n      onClick: _cache[0] || (_cache[0] = \n//@ts-ignore\n(...args) => (_ctx.connectToDevice && _ctx.connectToDevice(...args)))\n    }, \"Connetti\"),\n    (_ctx.connected)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2))\n      : _createCommentVNode(\"\", true)\n  ]))\n}","\n/// <reference types=\"web-bluetooth\" />\n\nimport { LedArrayState } from \"@/model/light/Engine\";\nimport { key } from \"@/store\";\nimport { Options, Vue } from \"vue-class-component\";\nimport { useStore } from \"vuex\";\n\n@Options({\n  data() {\n    const characteristic = null;\n    const connected = false;\n\n    return {\n      characteristic,\n      connected,\n    };\n  },\n  methods: {\n    async connectToDevice() {\n      let options = {\n        acceptAllDevices: true,\n        optionalServices: [\"8075bcec-77f1-49b0-84cb-1ecaecdc31e0\"],\n      };\n\n      try {\n        console.log(\"Requesting Bluetooth Device...\");\n        console.log(\"with \" + JSON.stringify(options));\n        const device = await navigator.bluetooth.requestDevice(options);\n        await device.gatt?.connect();\n        const service = await device.gatt?.getPrimaryService(\n          \"8075bcec-77f1-49b0-84cb-1ecaecdc31e0\"\n        );\n        this.characteristic = await service?.getCharacteristic(\n          \"beb5483e-36e1-4688-b7f5-ea07361b26a8\"\n        );\n\n        this.connected = true;\n        console.log(\"Connected\");\n      } catch (error) {\n        console.log(\"Argh! \" + error);\n      }\n    },\n    async writeValue(ledArrayState: LedArrayState) {\n      const characteristic: BluetoothRemoteGATTCharacteristic | null = this.characteristic;\n      characteristic\n        ?.writeValue(\n          new Uint8Array(\n            this.flatLedState(ledArrayState).map((n: number) => Math.round(n))\n          )\n        )\n        .catch((error: any) => {\n          console.log(\"Gesù non inviato\");\n        });\n    },\n    flatLedState(ledArrayState: LedArrayState) {\n      const arr = Object.values(ledArrayState).flatMap((el) =>\n        Object.values(el)\n      );\n      return arr.flat();\n    },\n    /* updateStripArr(event: Event, ledN: number) {\n      const color = (event.target as any).value;\n      const r = parseInt(color.substr(1, 2), 16);\n      const g = parseInt(color.substr(3, 2), 16);\n      const b = parseInt(color.substr(5, 2), 16);\n      const state = { ...this.$store.state.engine.currentState };\n      state[ledN] = { r, g, b };\n      this.writeValue(state);\n    }, */\n  },\n  /* computed: {\n    valuesArray() {\n      const state = useStore(key).state.engine.currentState;\n      return this.flatLedState(state);\n    },\n  }, */\n  watch: {\n    [\"$store.state.engine.currentState\"](newS, oldS) {\n      this.writeValue(newS);\n    },\n  },\n})\nexport default class BLEConnector extends Vue {}\n","import { render } from \"./BLEConnector.vue?vue&type=template&id=20305370&scoped=true&ts=true\"\nimport script from \"./BLEConnector.vue?vue&type=script&lang=ts\"\nexport * from \"./BLEConnector.vue?vue&type=script&lang=ts\"\n\nimport \"./BLEConnector.vue?vue&type=style&index=0&id=20305370&lang=scss&scoped=true\"\n\nimport exportComponent from \"/Users/TomaccioD/Documents/other/christmas/fe-leds/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-20305370\"]])\n\nexport default __exports__","\n/// <reference types=\"web-bluetooth\" />\n\nimport { Options, Vue } from \"vue-class-component\";\nimport Editor from \"./components/Editor.vue\";\nimport Strip from \"./components/Strip.vue\";\nimport ModuleEditor from \"./components/ModuleEditor.vue\";\nimport BLEConnector from \"./components/BLEConnector.vue\";\n\n@Options({\n  components: {\n    Editor,\n    Strip,\n    ModuleEditor,\n    BLEConnector\n  },\n  methods: {\n    /* updateStripArr(event: Event, ledN: number) {\n      const color = (event.target as any).value;\n      const r = parseInt(color.substr(1, 2), 16);\n      const g = parseInt(color.substr(3, 2), 16);\n      const b = parseInt(color.substr(5, 2), 16);\n      this.strip[ledN] = { r, g, b };\n      this.writeValue();\n    }, */\n  },\n})\nexport default class App extends Vue {}\n","import { render } from \"./App.vue?vue&type=template&id=6725a348&ts=true\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=6725a348&lang=scss\"\n\nimport exportComponent from \"/Users/TomaccioD/Documents/other/christmas/fe-leds/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\nimport { store, key } from './store'\n\ncreateApp(App).use(store, key).mount('#app');\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./BLEConnector.vue?vue&type=style&index=0&id=20305370&lang=scss&scoped=true\""],"sourceRoot":""}